---
layout: post
title: æœ€è¿‘åšangualré¡¹ç›®çš„ä¸€äº›é—®é¢˜
categories: Angular
tags: Angular Javascript fiddler
author: LY
---

* content
{:toc}

### AngularJS and scope.$apply    

`$apply`å†³å®šä»€ä¹ˆäº‹ä»¶è¿›å…¥angular contentã€‚  

å½“ä½ ç‚¹å‡»å¸¦æœ‰`ng-click`çš„å…ƒç´ æ—¶ï¼Œäº‹ä»¶å°±ä¼šè¢«å°è£…åˆ°ä¸€ä¸ª`$apply`è°ƒç”¨ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ª`ng-model="foo"`çš„è¾“å…¥æ¡†ï¼Œç„¶åæ•²ä¸€ä¸ªfï¼Œäº‹ä»¶å°±ä¼šè¢«è°ƒç”¨`$apply("foo='f';")`ã€‚  

angularä»€ä¹ˆæ—¶å€™ä¸ä¼šè‡ªåŠ¨$applyï¼Ÿ  

> ç”¨jqueryå†™çš„ä»£ç ï¼Œåº”ç”¨åŒå‘ç»‘å®šçš„æ—¶å€™æ•°æ®å¹¶æ²¡æœ‰è‡ªåŠ¨æ›´æ–°ã€‚   
> åŸå› ï¼šjqueryæ²¡æœ‰è°ƒç”¨$apply,äº‹ä»¶æ²¡æœ‰è¿›å…¥angular contentï¼Œè€Œangular contentæ²¡æœ‰å˜åŒ–ï¼Œ$digestå¾ªç¯æ°¸è¿œä¸ä¼šæ‰§è¡Œã€‚ 



### ä¸¾ä¸ªæ —å­  
```js
app.directive('OnClick', function() {
  return {
    restrict: 'E',
    scope: {
      foo: '='
    },
    template: "<div><h1>{{foo}}</h1></div>",
    link: function(scope, element, attrs) {
      element.bind('click',
      function() {
        scope.foo++;
      });
    }
  }
});

app.controller('MainCtrl', function($scope) {
  render = function() {
    $scope.foo = 0;
  };
  init = function() {
    render();
  };
  init();
});
``` 

æˆ‘æƒ³åœ¨ç‚¹å‡»h1çš„æ—¶å€™ï¼Œfooéƒ½ä¼šè‡ªåŠ¨åŠ 1ï¼Œä½†å¹¶æ²¡æœ‰çœ‹åˆ°æ•°æ®è·Ÿæ–°ã€‚whyï¼Ÿå› ä¸ºç‚¹å‡»äº‹ä»¶æ˜¯ä¸€ä¸ªæ²¡æœ‰å°è£…åˆ°$applyé‡Œçš„å¸¸è§çš„äº‹ä»¶ã€‚  

è™½ç„¶æ•°æ®æ²¡æœ‰è·Ÿæ–°ï¼Œä½†$scopeç¡®å®æ”¹å˜äº†ï¼Œç„¶è€Œå¹¶æ²¡æœ‰å¼ºåˆ¶æ‰§è¡Œ$digestå¾ªç¯ï¼Œè¿™æ ·ä¸€æ¥ï¼Œç›‘è§†angualr contentå˜åŒ–çš„$watchå°±ä¸ä¼šæ‰§è¡Œã€‚

è§£å†³æ–¹æ³•ï¼š  

è¿™éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡$applyï¼Œè°ƒç”¨ä»–ä¼šå¼ºåˆ¶æ‰§è¡Œä¸€æ¬¡$digestå¾ªç¯ï¼Œé‚£ä¹ˆ$watchå°±ä¼šçœ‹åˆ°è¿™äº›å˜åŒ–äº†ï¼Œdomä¹Ÿå°±ä¼šè¢«æ›´æ–°äº†ã€‚  

```javascript
element.bind('click', function() {
  scope.foo++;

  scope.$apply();
});
```  

ä¼˜åŒ–ï¼š  

```javascript
element.bind('click', function() {
  scope.$apply(function() {
    scope.foo++;
  })
});
```  

### angular.copy  

å…·ä½“çœ‹angularçš„[apiæ–‡æ¡£](https://docs.angularjs.org/api/ng/function/angular.copy)  

### angularjsè·¯ç”±å‚æ•°  

çœ‹äº†è¿™ä¸¤ç¯‡æ–‡ç« å°±ä¸€ä¸‹å­ç†è§£äº†ï¼š  
[æˆ³æˆ‘ğŸ˜](//www.cnblogs.com/kavlez/p/4293261.html)  
[æˆ³æˆ‘ğŸ˜„](//www.zouyesheng.com/angular.html#toc36)  

### å…³äºangularé™åˆ¶è·¨åŸŸçš„é—®é¢˜
  
[fiddleré«˜çº§è¿›é˜¶--ä½¿ç”¨è‡ªå®šä¹‰è„šæœ¬](//www.html-js.com/article/The-frontend-tool-Fiddler-senior-advanced--using-a-custom-script-to-achieve-cross-domain-and-by-the-port-or-changing-directory-hosts)  

### Disable ng-click in AngularJS

ç°åœ¨æœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯ï¼Œæˆ‘åªè§¦å‘ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶ï¼Œå†ç‚¹å‡»æˆ‘å°±ä¸è§¦å‘äº†ï¼Œæˆ‘å¼€å§‹æƒ³åˆ°çš„æ˜¯åŠ ä¸€ä¸ªå˜é‡æ ‡å¿—å°±å¥½äº†ï¼Œå½“ç„¶è¿™æ˜¯å¯ä»¥çš„ã€‚ä½†ä¸‹é¢è¿™ç§å†™æ³•æ›´å¥½ã€‚ 

```html
<body ng-app="ngToggle">
  <div ng-controller="AppCtrl">
    <button ng-click="disableClick()" ng-disabled="isDisabled" ng-model="isDisabled">Disable ng-click</button></div>
</body>
```

```javascript
angular.module('ngToggle', []).controller('AppCtrl', ['$scope',
function($scope) {
  $scope.isDisabled = false;
  $scope.disableClick = function() {
    alert("Clicked!");
    $scope.isDisabled = true;
    return false;
  }
}]);
```  

	


